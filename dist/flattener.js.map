{"version":3,"file":"flattener.js","sourceRoot":"","sources":["../src/flattener.ts"],"names":[],"mappings":"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"}